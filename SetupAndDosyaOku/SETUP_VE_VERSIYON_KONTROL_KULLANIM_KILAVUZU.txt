================================================================================
          LORE DOSYA Ä°ZLEYÄ°CÄ° - SETUP VE VERSÄ°YON KONTROL KULLANIM KILAVUZU
================================================================================

ğŸ“… OluÅŸturulma Tarihi: 10 Haziran 2025
ğŸ¯ Proje: Lore.SetupAndDosyaOku
ğŸ“ Konum: d:\Development\ozel\TemhaPdks\SetupAndDosyaOku\

================================================================================
                              ğŸ“¦ SETUP DOSYASI OLUÅTURMA
================================================================================

ğŸ”§ ADIM 1: Projeyi Publish Etme
-------------------------------
Komut: 
cd "d:\Development\ozel\TemhaPdks\SetupAndDosyaOku\Lore.SetupAndDosyaOku"
dotnet publish -c Release -r win-x64 --self-contained true -p:PublishSingleFile=true -p:PublishTrimmed=false

Ã‡Ä±ktÄ± Konumu: 
bin\Release\net8.0-windows\win-x64\publish\

OluÅŸan Dosyalar:
- LoreSetupAndDosyaOku.exe (Ana uygulama)
- appsettings.json (KonfigÃ¼rasyon)
- LoreSetupAndDosyaOku.pdb (Debug bilgileri)

ğŸ”§ ADIM 2: InnoSetup ile Setup OluÅŸturma
----------------------------------------
Komut:
cd "d:\Development\ozel\TemhaPdks\SetupAndDosyaOku\Lore.SetupAndDosyaOku"
& "C:\Program Files (x86)\Inno Setup 6\ISCC.exe" installer.iss

Ã‡Ä±ktÄ±:
installer\LoreDosyaIzleyici_Setup.exe

ğŸ“ Ã–NEMLI DOSYALAR:
- installer.iss (InnoSetup script dosyasÄ±)
- license.txt (Lisans dosyasÄ±)
- app.ico (Uygulama ikonu)

================================================================================
                             ğŸ”„ VERSÄ°YON KONTROL SÄ°STEMÄ°
================================================================================

ğŸ—ï¸ SÄ°STEM MÄ°MARÄ°SÄ°:
-------------------
Client Side (Lore.SetupAndDosyaOku):
â”œâ”€â”€ Program.cs â†’ CheckForUpdatesOnStartupAsync()
â”œâ”€â”€ UpdateService.cs â†’ CheckForUpdatesAsync(), DownloadUpdateAsync()
â”œâ”€â”€ FileMonitoringService.cs â†’ Periyodik versiyon kontrolÃ¼
â””â”€â”€ System Tray â†’ GÃ¼ncelleme bildirimleri

Server Side (LorePdks.API):
â”œâ”€â”€ DataOkuConsoleSetupController.cs
â”œâ”€â”€ CheckVersion endpoint â†’ Versiyon karÅŸÄ±laÅŸtÄ±rmasÄ±
â”œâ”€â”€ DownloadUpdate endpoint â†’ Setup dosyasÄ± indirme
â””â”€â”€ uploadSetupFile endpoint â†’ Setup dosyasÄ± yÃ¼kleme

ğŸ” API ENDPOINTS:
----------------
1. Versiyon KontrolÃ¼:
   GET /Api/DataOkuConsoleSetup/CheckVersion?firmaKod=XXX&currentVersion=1.0.0
   
2. Setup Ä°ndirme:
   GET /Api/DataOkuConsoleSetup/DownloadUpdate?firmaKod=XXX
   
3. Setup YÃ¼kleme (Admin):
   POST /Api/DataOkuConsoleSetup/uploadSetupFile

ğŸ“Š VERSÄ°YON KONTROL AKIÅI:
-------------------------
1. Uygulama baÅŸlangÄ±cÄ±nda otomatik kontrol
2. API'den gÃ¼ncel versiyon bilgisi alÄ±nÄ±r
3. Mevcut versiyon ile karÅŸÄ±laÅŸtÄ±rÄ±lÄ±r
4. Yeni versiyon varsa sistem tray'de bildirim gÃ¶sterilir
5. KullanÄ±cÄ± isterse otomatik indirme yapÄ±lÄ±r

================================================================================
                           ğŸ“‹ YENÄ° VERSÄ°YON Ã‡IKARMA SÃœRECÄ°
================================================================================

ğŸ”„ A) GELÄ°ÅTÄ°RME ORTAMINDA:
---------------------------
1. Versiyon numarasÄ±nÄ± artÄ±rÄ±n:
   Dosya: appsettings.json
   DeÄŸiÅŸiklik: "Version": "1.0.1" (Ã¶rnek)

2. installer.iss dosyasÄ±nda versiyon gÃ¼ncelleyin:
   #define MyAppVersion "1.0.1"

3. Projeyi yeniden publish edin:
   dotnet publish -c Release -r win-x64 --self-contained true -p:PublishSingleFile=true

4. Yeni setup dosyasÄ± oluÅŸturun:
   & "C:\Program Files (x86)\Inno Setup 6\ISCC.exe" installer.iss

ğŸ”„ B) SUNUCU TARAFINDA:
----------------------
1. API appsettings.json gÃ¼ncelleme:
   Dosya: LorePdks.API\appsettings.Development.json
   
   "DataOkuConsole": {
     "CurrentVersion": "1.0.1",  // YENÄ° VERSÄ°YON
     "SetupUrl": "https://localhost:44374/Api/DataOkuConsoleSetup/DownloadUpdate",
     "ReleaseNotes": "Bu sÃ¼rÃ¼mde: Yeni Ã¶zellikler ve hata dÃ¼zeltmeleri",
     "DefaultInstallPath": "C:\\Program Files\\LoreBilisim\\",
     "ExecutablePath": "LoreSetupAndDosyaOku.exe"
   }

2. Setup dosyasÄ±nÄ± sunucuya yÃ¼kleme:
   a) Manuel: wwwroot/uploads/ klasÃ¶rÃ¼ne kopyalayÄ±n
   b) API ile: uploadSetupFile endpoint'ini kullanÄ±n
   c) Dosya adÄ±: LoreDosyaIzleyici_Setup.exe olmalÄ±

================================================================================
                              ğŸ”§ SETUP YÃœKLEMESÄ°
================================================================================

ğŸ“ DOSYA KONUMLARI:
------------------
Setup DosyasÄ±: installer\LoreDosyaIzleyici_Setup.exe
Kurulum Dizini: C:\Program Files\LoreBilisim\
KonfigÃ¼rasyon: %ProgramFiles%\LoreBilisim\appsettings.json

ğŸ“‹ KURULUM Ã–ZELLÄ°KLERÄ°:
-----------------------
âœ… YÃ¶netici yetkisi gerekli (PrivilegesRequired=admin)
âœ… MasaÃ¼stÃ¼ kÄ±sayolu (varsayÄ±lan seÃ§ili)
âœ… BaÅŸlat menÃ¼sÃ¼ grubu
âœ… Self-contained executable (tek dosya)
âœ… Otomatik uninstaller kayÄ±t

================================================================================
                             ğŸ› SORUN GÄ°DERME
================================================================================

âŒ YAYGIN SORUNLAR:

1. "YÃ¼kseltme gerekiyor" HatasÄ±:
   Ã‡Ã¶zÃ¼m: Setup'Ä± yÃ¶netici olarak Ã§alÄ±ÅŸtÄ±rÄ±n

2. API baÄŸlantÄ± hatasÄ±:
   Kontrol: appsettings.json â†’ ApiSettings â†’ BaseUrl
   Test: API sunucusunun Ã§alÄ±ÅŸÄ±r durumda olduÄŸunu doÄŸrulayÄ±n

3. Versiyon kontrolÃ¼ Ã§alÄ±ÅŸmÄ±yor:
   Kontrol: FirmaKod ayarÄ±nÄ±n yapÄ±ldÄ±ÄŸÄ±nÄ± doÄŸrulayÄ±n
   Log: %ProgramFiles%\LoreBilisim\logs\ klasÃ¶rÃ¼nÃ¼ kontrol edin

4. Setup dosyasÄ± oluÅŸturamÄ±yor:
   Kontrol: InnoSetup yÃ¼klÃ¼ mÃ¼?
   Kontrol: publish klasÃ¶rÃ¼nde dosyalar var mÄ±?

ğŸ“ LOG DOSYALARI:
----------------
Uygulama LoglarÄ±: %ProgramFiles%\LoreBilisim\logs\
Setup LoglarÄ±: %TEMP%\Setup Log xxxx-xx-xx #xxx.txt

================================================================================
                            ğŸ“‚ DOSYA YAPISI
================================================================================

SetupAndDosyaOku/
â”œâ”€â”€ Lore.SetupAndDosyaOku/
â”‚   â”œâ”€â”€ installer.iss                 # InnoSetup script
â”‚   â”œâ”€â”€ license.txt                   # Lisans dosyasÄ±
â”‚   â”œâ”€â”€ app.ico                       # Uygulama ikonu
â”‚   â”œâ”€â”€ appsettings.json              # KonfigÃ¼rasyon
â”‚   â”œâ”€â”€ installer/                    # Setup Ã§Ä±ktÄ± klasÃ¶rÃ¼
â”‚   â”‚   â””â”€â”€ LoreDosyaIzleyici_Setup.exe
â”‚   â””â”€â”€ bin/Release/net8.0-windows/win-x64/publish/
â”‚       â”œâ”€â”€ LoreSetupAndDosyaOku.exe  # Ana uygulama
â”‚       â”œâ”€â”€ appsettings.json          # Runtime konfigÃ¼rasyon
â”‚       â””â”€â”€ LoreSetupAndDosyaOku.pdb  # Debug bilgileri
â””â”€â”€ upload_setup.sh                  # Setup yÃ¼kleme script'i

================================================================================
                           ğŸš€ DEPLOYMENT CHECKLÄ°ST
================================================================================

âœ… PRODUCTION HAZIRLIK:
----------------------
â–¡ Versiyon numarasÄ± gÃ¼ncellendi
â–¡ Release notes hazÄ±rlandÄ±
â–¡ Setup dosyasÄ± oluÅŸturuldu
â–¡ Setup dosyasÄ± test edildi
â–¡ API sunucusu gÃ¼ncel versiyon bilgileri ile gÃ¼ncellendi
â–¡ SSL sertifikalarÄ± geÃ§erli
â–¡ Domain ayarlarÄ± doÄŸru
â–¡ Firewall kurallarÄ± uygun
â–¡ Backup alÄ±ndÄ±

ğŸ“§ Ä°LETÄ°ÅÄ°M:
-----------
GeliÅŸtirici: info@lorebilisim.com
Web: https://www.lorebilisim.com
Teknik Destek: Bu kÄ±lavuzda belirtilen adÄ±mlarÄ± takip edin

================================================================================
                              ğŸ“š EK BÄ°LGÄ°LER
================================================================================

ğŸ” GÃœVENLÄ°K:
-----------
- Uygulama admin yetkisi gerektiriyor
- API endpoints'leri firma koduna gÃ¶re yetkilendiriliyor
- Setup dosyalarÄ± gÃ¼venli sunucuda saklanÄ±yor

âš¡ PERFORMANS:
-------------
- Self-contained executable (tek dosya)
- ReadyToRun ile optimize edilmiÅŸ
- Minimal resource kullanÄ±mÄ±
- Background service olarak Ã§alÄ±ÅŸÄ±r

ğŸ”„ GÃœNCELLEMELER:
---------------
- Otomatik versiyon kontrolÃ¼
- System tray bildirimleri  
- Manuel indirme seÃ§eneÄŸi
- Silent update desteÄŸi (gelecek versiyon)

================================================================================
                            SON GÃœNCELLEME TARÄ°HÄ°
================================================================================

ğŸ“… Tarih: 10 Haziran 2025
ğŸ‘¤ GÃ¼ncelleme Yapan: GitHub Copilot
ğŸ“ Versiyon: 1.0.0 - Ä°lk sÃ¼rÃ¼m notlarÄ±

Bu kÄ±lavuz gelecek gÃ¼ncellemeler ile birlikte geniÅŸletilecektir.

================================================================================
